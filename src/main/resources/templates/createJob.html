<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒêƒÉng Tin Tuy·ªÉn D·ª•ng - DG Jobs</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <style>
        /* --- SUNSET THEME VARIABLES --- */
        :root {
            --grad-primary: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            --grad-hover: linear-gradient(135deg, #FF4757 0%, #FF6B6B 100%);
            --color-orange: #FF6B6B;
            --color-pink: #FF4757;
            --bg-body: #FFFBFB;
            --text-dark: #2D3436;
            --text-sub: #636E72;
            --shadow-soft: 0 20px 60px rgba(255, 107, 107, 0.15);
            --radius: 24px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Outfit', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--bg-body);
            overflow-x: hidden;
            display: flex; flex-direction: column; min-height: 100vh;
        }

        /* --- BACKGROUND ORBS --- */
        .bg-mesh {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -1;
            overflow: hidden; pointer-events: none;
        }
        .orb {
            position: absolute; border-radius: 50%; filter: blur(90px); opacity: 0.5;
            animation: float 20s infinite alternate ease-in-out;
        }
        .orb-1 { width: 500px; height: 500px; background: #FFEAA7; top: -100px; left: -100px; }
        .orb-2 { width: 400px; height: 400px; background: #FFD3E0; bottom: 10%; right: -50px; }
        @keyframes float { 0% { transform: translate(0, 0); } 100% { transform: translate(30px, 30px); } }

        /* --- HEADER --- */
        .header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            position: sticky; top: 0; z-index: 1000;
            border-bottom: 1px solid rgba(255, 107, 107, 0.1);
        }

        .nav {
            display: flex; justify-content: space-between; align-items: center;
            max-width: 1200px; margin: 0 auto; padding: 1rem 2rem;
        }

        .logo {
            font-size: 2rem; font-weight: 800; letter-spacing: -1px;
            background: var(--grad-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            cursor: pointer;
        }

        .nav-menu { display: flex; list-style: none; gap: 1rem; }
        .nav-menu a {
            color: var(--text-sub); text-decoration: none; font-weight: 600;
            padding: 0.5rem 1rem; border-radius: 50px; transition: all 0.3s;
        }
        .nav-menu a:hover { color: var(--color-orange); background: #FFF0F0; transform: translateY(-2px); }
        
        /* Highlight n√∫t ƒêƒÉng tin */
        .nav-menu a[href*="createJob"] { 
            background: var(--grad-primary); color: white !important; 
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .mobile-menu-btn {
            display: none; background: none; border: none;
            color: var(--color-orange); font-size: 1.5rem; cursor: pointer;
        }

        /* --- MAIN CONTAINER --- */
        .main-content-wrapper {
            flex: 1; padding: 3rem 1rem;
            display: flex; justify-content: center;
        }

        .container {
            max-width: 900px; width: 100%;
            background: white; border-radius: var(--radius);
            box-shadow: var(--shadow-soft); overflow: hidden;
            border: 1px solid #FFF0F0; position: relative;
        }

        .page-header {
            background: linear-gradient(135deg, #FFF0F0 0%, #FFEAA7 50%, #FFF 100%);
            padding: 3rem 2rem; text-align: center;
            border-bottom: 1px solid #FFEAA7;
        }

        .page-header h1 {
            font-size: 2.2rem; font-weight: 800; margin-bottom: 0.5rem;
            background: var(--grad-primary); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .page-header p { font-size: 1.1rem; color: var(--text-sub); }

        /* --- FORM STYLES --- */
        .form-container { padding: 3rem; }

        .form-section { margin-bottom: 2.5rem; animation: slideInUp 0.6s ease forwards; opacity: 0; }
        .form-section:nth-child(1) { animation-delay: 0.1s; }
        .form-section:nth-child(2) { animation-delay: 0.2s; }
        .form-section:nth-child(3) { animation-delay: 0.3s; }

        .section-title {
            font-size: 1.3rem; font-weight: 700; color: var(--text-dark);
            margin-bottom: 1.5rem; padding-bottom: 0.5rem;
            border-bottom: 2px solid #FFF0F0; display: flex; align-items: center; gap: 0.8rem;
        }
        .section-title i { 
            width: 35px; height: 35px; background: #FFF0F0; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            color: var(--color-orange); font-size: 1rem;
        }

        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group.full-width { grid-column: 1 / -1; }

        .form-label {
            display: block; font-weight: 600; color: var(--text-dark);
            margin-bottom: 0.5rem; font-size: 0.95rem;
        }
        .form-label.required::after { content: ' *'; color: var(--color-pink); }

        .form-input, .form-select, .form-textarea {
            width: 100%; padding: 0.9rem 1rem;
            border: 2px solid #F5F6FA; border-radius: 12px;
            font-size: 1rem; transition: all 0.3s ease;
            background: #FDFDFD; font-family: 'Outfit', sans-serif;
            color: var(--text-dark); outline: none;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            border-color: var(--color-orange); background: white;
            box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.1);
        }

        /* Buttons */
        .btn-group {
            display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;
            padding-top: 2rem; border-top: 1px solid #F5F6FA;
        }
        .btn {
            padding: 1rem 2.5rem; border: none; border-radius: 50px;
            font-size: 1rem; font-weight: 700; cursor: pointer;
            transition: all 0.3s ease; font-family: 'Outfit', sans-serif;
        }
        .btn-primary {
            background: var(--grad-primary); color: white;
            box-shadow: 0 10px 20px rgba(255, 107, 107, 0.3);
        }
        .btn-primary:hover {
            transform: translateY(-3px); background: var(--grad-hover);
            box-shadow: 0 15px 30px rgba(255, 107, 107, 0.4);
        }
        .btn-secondary { background: #F5F6FA; color: var(--text-sub); }
        .btn-secondary:hover { background: #E2E8F0; color: var(--text-dark); }

        /* Message Box */
        .message-box {
            display: none; padding: 1rem; border-radius: 12px;
            margin-bottom: 2rem; text-align: center; font-weight: 600;
        }
        .message-box.success { background: #D1F2EB; color: #0E6251; border: 1px solid #A3E4D7; }
        .message-box.error { background: #FADBD8; color: #7B241C; border: 1px solid #F5B7B1; }

        /* Footer */
        .footer {
            background: white; padding: 4rem 2rem 2rem;
            border-top: 5px solid; border-image: var(--grad-primary) 1;
        }
        .footer-content { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 3rem; margin-bottom: 3rem; max-width: 1200px; margin: 0 auto;
        }
        .footer-section h3 { font-size: 1.2rem; color: var(--text-dark); margin-bottom: 1.5rem; font-weight: 800;}
        .footer-section a { 
            color: var(--text-sub); text-decoration: none; display: block; margin-bottom: 0.8rem; transition: 0.3s;
        }
        .footer-section a:hover { color: var(--color-orange); transform: translateX(5px); }
        .footer-bottom { text-align: center; color: #B2BEC3; padding-top: 2rem; border-top: 1px solid #F5F6FA; }

        @keyframes slideInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            .nav-menu { display: none; position: absolute; top: 100%; left: 0; right: 0; background: white; flex-direction: column; padding: 2rem; box-shadow: 0 10px 40px rgba(0,0,0,0.1); gap: 1rem; }
            .nav-menu.active { display: flex; }
            .mobile-menu-btn { display: block; }
            .form-row { grid-template-columns: 1fr; gap: 0; }
            .btn-group { flex-direction: column-reverse; }
            .btn { width: 100%; }
            .form-container { padding: 1.5rem; }
        }
    </style>
</head>

<body>
    <div class="bg-mesh">
        <div class="orb orb-1"></div>
        <div class="orb orb-2"></div>
    </div>

    <header class="header">
        <nav class="nav">
            <div class="logo">DG Jobs</div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="http://localhost:5500/templates/testHome.html">T√¨m vi·ªác</a></li>
                <li><a href="http://localhost:5500/templates/createJob.html">ƒêƒÉng tin</a></li>
                <li><a href="#ve-chung-toi">V·ªÅ ch√∫ng t√¥i</a></li>
                <li><a href="http://localhost:5500/templates/testHome.html">ƒêƒÉng xu·∫•t</a></li>
                <li><a href="testProfileCandidate.html">C·∫≠p nh·∫≠t h·ªì s∆°</a></li>
            </ul>
            <button class="mobile-menu-btn" id="mobileMenuBtn"><i class="fa-solid fa-bars"></i></button>
        </nav>
    </header>

    <main class="main-content-wrapper">
        <div class="container">
            <div class="page-header">
                <h1>ƒêƒÉng Tin Tuy·ªÉn D·ª•ng</h1>
                <p>T√¨m ki·∫øm nh√¢n t√†i ph√π h·ª£p cho doanh nghi·ªáp c·ªßa b·∫°n ngay h√¥m nay</p>
            </div>

            <div class="form-container">
                <div id="message" class="message-box"></div>

                <form id="jobForm">
                    <div class="form-section">
                        <h2 class="section-title"><i class="fa-solid fa-briefcase"></i> Th√¥ng tin c∆° b·∫£n</h2>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label required">T√™n C√¥ng Ty</label>
                                <input type="text" id="companyName" name="companyName" class="form-input" placeholder="V√≠ d·ª•: C√¥ng ty C√¥ng ngh·ªá DG" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label required">Ti√™u ƒê·ªÅ C√¥ng Vi·ªác</label>
                                <input type="text" id="title" name="title" class="form-input" placeholder="V√≠ d·ª•: Senior Java Developer" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label required">C·∫•p B·∫≠c</label>
                                <select id="level" name="level" class="form-select" required>
                                    <option value="">Ch·ªçn c·∫•p b·∫≠c</option>
                                    <option value="Intern">Intern</option>
                                    <option value="Fresher">Fresher</option>
                                    <option value="Junior">Junior</option>
                                    <option value="Senior">Senior</option>
                                    <option value="Manager">Manager</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label required">Tr·∫°ng Th√°i</label>
                                <select id="status" name="status" class="form-select" required>
                                    <option value="">Ch·ªçn tr·∫°ng th√°i</option>
                                    <option value="Draft">Nh√°p</option>
                                    <option value="Published">ƒêƒÉng ngay</option>
                                    <option value="Archived">L∆∞u tr·ªØ</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="section-title"><i class="fa-solid fa-calendar-days"></i> Th·ªùi gian & M·ª©c L∆∞∆°ng</h2>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label required">Ng√†y B·∫Øt ƒê·∫ßu</label>
                                <input type="date" id="startDate" name="startDate" class="form-input" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label required">Ng√†y K·∫øt Th√∫c</label>
                                <input type="date" id="endDate" name="endDate" class="form-input" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">L∆∞∆°ng T·ª´ (Tri·ªáu VNƒê)</label>
                                <input type="number" id="salaryFrom" name="salaryFrom" class="form-input" placeholder="0">
                            </div>
                            <div class="form-group">
                                <label class="form-label">L∆∞∆°ng ƒê·∫øn (Tri·ªáu VNƒê)</label>
                                <input type="number" id="salaryTo" name="salaryTo" class="form-input" placeholder="0">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h2 class="section-title"><i class="fa-solid fa-file-pen"></i> Chi ti·∫øt c√¥ng vi·ªác</h2>
                        
                        <div class="form-group full-width">
                            <label class="form-label required">ƒê·ªãa Ch·ªâ L√†m Vi·ªác</label>
                            <input type="text" id="workingAddress" name="workingAddress" class="form-input" placeholder="V√≠ d·ª•: T·∫ßng 5, T√≤a nh√† ABC, Qu·∫≠n 1, TP.HCM" required>
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label">K·ªπ NƒÉng Y√™u C·∫ßu</label>
                            <textarea id="skills" name="skills" rows="3" class="form-textarea" placeholder="Nh·∫≠p c√°c k·ªπ nƒÉng, c√°ch nhau b·ªüi d·∫•u ph·∫©y (V√≠ d·ª•: Java, Spring Boot, SQL)..."></textarea>
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label">M√¥ T·∫£ C√¥ng Vi·ªác</label>
                            <textarea id="description" name="description" rows="5" class="form-textarea" placeholder="M√¥ t·∫£ chi ti·∫øt nhi·ªám v·ª• v√† tr√°ch nhi·ªám..."></textarea>
                        </div>

                        <div class="form-group full-width">
                            <label class="form-label">Ph√∫c L·ª£i</label>
                            <textarea id="benefits" name="benefits" rows="4" class="form-textarea" placeholder="Ch·∫ø ƒë·ªô ƒë√£i ng·ªô, b·∫£o hi·ªÉm, du l·ªãch..."></textarea>
                        </div>
                    </div>

                    <div class="btn-group">
                        <button type="reset" class="btn btn-secondary">
                            <i class="fa-solid fa-rotate-left"></i> Nh·∫≠p L·∫°i
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fa-solid fa-paper-plane"></i> ƒêƒÉng Tin
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>DG Recruitment</h3>
                    <p>N·ªÅn t·∫£ng tuy·ªÉn d·ª•ng h√†ng ƒë·∫ßu Vi·ªát Nam, k·∫øt n·ªëi ·ª©ng vi√™n v√† nh√† tuy·ªÉn d·ª•ng m·ªôt c√°ch hi·ªáu qu·∫£.</p>
                </div>
                <div class="footer-section">
                    <h3>Li√™n h·ªá</h3>
                    <p>Email: contact@dg-recruitment.com</p>
                    <p>Hotline: 1900 1234</p>
                    <p>ƒê·ªãa ch·ªâ: 123 ƒê∆∞·ªùng ABC, Qu·∫≠n 1, TP.HCM</p>
                </div>
                <div class="footer-section">
                    <h3>Li√™n k·∫øt nhanh</h3>
                    <p><a href="#">T√¨m vi·ªác l√†m</a></p>
                    <p><a href="#">T·∫°o CV online</a></p>
                    <p><a href="#">D√†nh cho nh√† tuy·ªÉn d·ª•ng</a></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 DG Recruitment. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // --- LOGIC GI·ªÆ NGUY√äN ---

        // Mobile Menu
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const navMenu = document.getElementById('navMenu');
        if(mobileMenuBtn) {
            mobileMenuBtn.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                mobileMenuBtn.textContent = navMenu.classList.contains('active') ? '‚úï' : '‚ò∞';
            });
        }

        // Cookie Logic
        document.addEventListener('DOMContentLoaded', () => {
            const userIdTemp = localStorage.getItem('temp_user_session');
            const existingCookie = document.cookie.includes('user_session=');

            if (userIdTemp && !existingCookie) {
                document.cookie = `user_session=${userIdTemp}; path=/; max-age=${24 * 60 * 60}`;
                localStorage.removeItem('temp_user_session');
                if (window.location.search !== '?reloaded=true') {
                    window.location.replace(window.location.href + '?reloaded=true');
                }
            } else if (existingCookie) {
                localStorage.removeItem('temp_user_session');
            }
        });

        // Submit Form Logic
        document.getElementById('jobForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const form = e.target;
            const newJob = {
                companyName: form.companyName.value,
                title: form.title.value,
                startDate: form.startDate.value,
                endDate: form.endDate.value,
                salaryFrom: parseFloat(form.salaryFrom.value) || 0,
                salaryTo: parseFloat(form.salaryTo.value) || 0,
                workingAddress: form.workingAddress.value,
                skills: form.skills.value,
                benefits: form.benefits.value,
                level: form.level.value,
                description: form.description.value,
                status: form.status.value
            };

            if (!newJob.companyName || !newJob.title || !newJob.startDate || !newJob.endDate || !newJob.workingAddress || !newJob.level || !newJob.status) {
                showMessage('error', 'Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß c√°c tr∆∞·ªùng b·∫Øt bu·ªôc (*).');
                return;
            }

            // Hi·ªáu ·ª©ng Loading
            const submitBtn = form.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> ƒêang x·ª≠ l√Ω...';
            submitBtn.disabled = true;

            axios.post('https://web-tuyen-dung-production.up.railway.app/job/createJob', newJob, {
                withCredentials: true
            })
            .then(response => {
                showMessage('success', response.data || 'T·∫°o tin tuy·ªÉn d·ª•ng th√†nh c√¥ng! üéâ');
                form.reset();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            })
            .catch(error => {
                let errorMessage = 'ƒê√£ x·∫£y ra l·ªói khi t·∫°o job.';
                if (error.response) {
                    errorMessage = `L·ªói: ${error.response.data || error.response.statusText}`;
                }
                showMessage('error', errorMessage);
            })
            .finally(() => {
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
            });
        });

        function showMessage(type, message) {
            const messageBox = document.getElementById('message');
            messageBox.textContent = message;
            messageBox.className = `message-box ${type}`;
            messageBox.style.display = 'block';
            
            // Icon cho message
            if (type === 'success') {
                messageBox.innerHTML = '<i class="fa-solid fa-check-circle"></i> ' + message;
            } else {
                messageBox.innerHTML = '<i class="fa-solid fa-triangle-exclamation"></i> ' + message;
            }

            messageBox.scrollIntoView({ behavior: 'smooth', block: 'center' });
            setTimeout(() => {
                messageBox.style.display = 'none';
            }, 5000);
        }
    </script>
</body>
</html>